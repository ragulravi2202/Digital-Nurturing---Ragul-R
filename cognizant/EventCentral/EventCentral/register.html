<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Local Community Event Portal</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- External CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Internal CSS -->
    <style>
        body {
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-lg">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="bi bi-calendar-event me-2"></i>
                Community Events
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="events.html">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="register.html">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="feedback.html">Feedback</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="video.html">Videos</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Registration Form Section -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card shadow-lg border-0">
                        <div class="card-header bg-primary text-white text-center py-4">
                            <h1 class="card-title display-6 fw-bold mb-0">
                                <i class="bi bi-person-plus me-2"></i>
                                Event Registration
                            </h1>
                            <p class="mb-0 mt-2">Join our amazing community events</p>
                        </div>
                        
                        <div class="card-body p-5">
                            <form id="registrationForm" novalidate>
                                <!-- Personal Information Section -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <h4 class="fw-bold text-primary mb-3">
                                            <i class="bi bi-person me-2"></i>
                                            Personal Information
                                        </h4>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" 
                                                   class="form-control" 
                                                   id="firstName" 
                                                   name="firstName"
                                                   placeholder="First Name" 
                                                   required 
                                                   autofocus>
                                            <label for="firstName">First Name *</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid first name.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" 
                                                   class="form-control" 
                                                   id="lastName" 
                                                   name="lastName"
                                                   placeholder="Last Name" 
                                                   required>
                                            <label for="lastName">Last Name *</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid last name.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="email" 
                                                   class="form-control" 
                                                   id="email" 
                                                   name="email"
                                                   placeholder="name@example.com" 
                                                   required>
                                            <label for="email">Email Address *</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid email address.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="tel" 
                                                   class="form-control" 
                                                   id="phone" 
                                                   name="phone"
                                                   placeholder="Phone Number" 
                                                   required
                                                   onblur="validatePhone(this)">
                                            <label for="phone">Phone Number *</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid phone number (10 digits).
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="date" 
                                                   class="form-control" 
                                                   id="birthDate" 
                                                   name="birthDate"
                                                   required>
                                            <label for="birthDate">Date of Birth *</label>
                                            <div class="invalid-feedback">
                                                Please provide your date of birth.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <select class="form-select" 
                                                    id="gender" 
                                                    name="gender"
                                                    required>
                                                <option value="">Choose gender...</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                                <option value="other">Other</option>
                                                <option value="prefer-not-to-say">Prefer not to say</option>
                                            </select>
                                            <label for="gender">Gender *</label>
                                            <div class="invalid-feedback">
                                                Please select your gender.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Event Selection Section -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <h4 class="fw-bold text-primary mb-3">
                                            <i class="bi bi-calendar-event me-2"></i>
                                            Event Selection
                                        </h4>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <select class="form-select" 
                                                    id="eventType" 
                                                    name="eventType"
                                                    required
                                                    onchange="updateEventFee(this)">
                                                <option value="">Select an event...</option>
                                                <option value="music-festival" data-fee="25">Music Festival - $25</option>
                                                <option value="food-fair" data-fee="15">Food Fair - $15</option>
                                                <option value="art-exhibition" data-fee="10">Art Exhibition - $10</option>
                                                <option value="sports-tournament" data-fee="20">Sports Tournament - $20</option>
                                                <option value="workshop-series" data-fee="35">Workshop Series - $35</option>
                                                <option value="community-cleanup" data-fee="0">Community Cleanup - Free</option>
                                            </select>
                                            <label for="eventType">Event Type *</label>
                                            <div class="invalid-feedback">
                                                Please select an event.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="date" 
                                                   class="form-control" 
                                                   id="eventDate" 
                                                   name="eventDate"
                                                   required>
                                            <label for="eventDate">Preferred Event Date *</label>
                                            <div class="invalid-feedback">
                                                Please select your preferred event date.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Event Fee Display -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <div class="alert alert-info d-flex align-items-center">
                                            <i class="bi bi-info-circle me-2"></i>
                                            <div>
                                                <strong>Registration Fee: </strong>
                                                <output id="eventFeeDisplay">$0</output>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Additional Information Section -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <h4 class="fw-bold text-primary mb-3">
                                            <i class="bi bi-chat-dots me-2"></i>
                                            Additional Information
                                        </h4>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <textarea class="form-control" 
                                                      id="specialRequests" 
                                                      name="specialRequests"
                                                      placeholder="Special requests or comments"
                                                      style="height: 120px"
                                                      onkeyup="trackTextareaInput(this)"></textarea>
                                            <label for="specialRequests">Special Requests or Comments</label>
                                        </div>
                                        <div class="form-text">
                                            <small id="textareaCounter">0 characters typed</small>
                                        </div>
                                    </div>
                                </div>

                                <!-- Terms and Conditions -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <div class="form-check">
                                            <input class="form-check-input" 
                                                   type="checkbox" 
                                                   id="agreeTerms" 
                                                   name="agreeTerms"
                                                   required>
                                            <label class="form-check-label" for="agreeTerms">
                                                I agree to the <a href="#" class="text-decoration-none">Terms and Conditions</a> and 
                                                <a href="#" class="text-decoration-none">Privacy Policy</a> *
                                            </label>
                                            <div class="invalid-feedback">
                                                You must agree to the terms and conditions.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Newsletter Subscription -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <div class="form-check">
                                            <input class="form-check-input" 
                                                   type="checkbox" 
                                                   id="newsletter" 
                                                   name="newsletter">
                                            <label class="form-check-label" for="newsletter">
                                                Subscribe to our newsletter for event updates
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Submit Button -->
                                <div class="row">
                                    <div class="col-12">
                                        <div class="d-grid gap-2">
                                            <button type="submit" 
                                                    class="btn btn-primary btn-lg"
                                                    onclick="confirmRegistration()">
                                                <i class="bi bi-check-circle me-2"></i>
                                                Complete Registration
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Registration Confirmation -->
                                <div class="row mt-4">
                                    <div class="col-12">
                                        <output id="registrationConfirmation" class="text-center d-block"></output>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">
                        <i class="bi bi-check-circle me-2"></i>
                        Registration Successful!
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center">
                        <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>
                        <h4 class="mt-3">Thank you for registering!</h4>
                        <p class="lead">Your registration has been successfully submitted.</p>
                        <p>You will receive a confirmation email shortly with event details.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <a href="events.html" class="btn btn-primary">Browse More Events</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2024 Local Community Event Portal</p>
                </div>
                <div class="col-md-6 text-end">
                    <a href="#" class="text-white me-3"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="text-white me-3"><i class="bi bi-twitter"></i></a>
                    <a href="#" class="text-white"><i class="bi bi-instagram"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="main.js"></script>
    
    <script>
        // Load saved event type preference
        document.addEventListener('DOMContentLoaded', function() {
            const savedEventType = localStorage.getItem('preferredEventType');
            if (savedEventType) {
                document.getElementById('eventType').value = savedEventType;
                updateEventFee(document.getElementById('eventType'));
            }
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('eventDate').min = today;
            document.getElementById('birthDate').max = today;
        });

        // Save event type preference when changed
        document.getElementById('eventType').addEventListener('change', function() {
            localStorage.setItem('preferredEventType', this.value);
        });
    </script>
</body>
</html>
